// TODO: move common body and health calculations in here